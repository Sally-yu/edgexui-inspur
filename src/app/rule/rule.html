<div id="topbar">
  <div style="width: 72px;">
    <button nz-button [disabled]="!this.diagram.commandHandler.canUndo()"
            (click)="this.diagram.commandHandler.undo()"
    >撤销
    </button>
    <button nz-button [disabled]="!this.diagram.commandHandler.canRedo()"
            (click)="this.diagram.commandHandler.redo()"
    >重做
    </button>
  </div>
  <div style="width: 72px;">
    <button nz-button (click)="load()">加载</button>
    <button nz-button [disabled]="!this.diagram.isModified" [nzType]="'primary'" (click)="save()">保存</button>
  </div>
  <div style="width: 72px;">
    <button nz-button (click)="zoomOut(0.6)">缩小</button>
    <button nz-button (click)="zoomOut(1.7)">放大</button>
  </div>
  <div id="myPaletteDiv"
       style="height:80%;width:160px;top:6%;background-color: white;box-shadow: inset 0px 0px 4px 0px black;border-radius: 4px"></div>


</div>
<div id="toolcontent">
  <div style="max-height:100%;width:320px;float: left">
    <nz-collapse nzAccordion>
      <nz-collapse-panel [nzActive]="true" [nzHeader]="'管道'">
        <div id="myPaletteDiv1" style="height:600px;max-height: 800px;"></div>
      </nz-collapse-panel>
      <nz-collapse-panel [nzHeader]="'机床'">
        <div id="myPaletteDiv2" style="height: 600px;max-height: 800px;"></div>
      </nz-collapse-panel>
      <nz-collapse-panel [nzHeader]="'交通工具'">
        <div id="myPaletteDiv3" style="height: 600px;max-height: 800px;"></div>
      </nz-collapse-panel>
      <nz-collapse-panel [nzHeader]="'加热设备'">
        <div id="myPaletteDiv4" style="height: 600px;max-height: 800px;"></div>
      </nz-collapse-panel>
    </nz-collapse>
  </div>

  <div id="toolTipDIV">
    <ul style="list-style: none">
      <li>设备信息：{{currDevice["svg"]}}</li>
      <li>设备状态：<a style="color: #1890ff">运转中</a></li>
      <li>设备名称：{{dataDevice['name']}}</li>
      <li>设备描述：{{dataDevice['decription']}}</li>
      <li>设备标签：{{dataDevice['labels']}}</li>
    </ul>
  </div>
  <div id="contextMenu">
    <ul>
      <li id="addDevice">
        <a href="#" target="_self" (click)="click('addDevice')">关联设备</a>
      </li>
      <li id="deviceInfo" (click)="click('deviceInfo')"><a href="#" target="_self">设备信息</a></li>
      <li id="delete" (click)="click('delete')"><a href="#" target="_self">删除设备</a></li>
      <li id="copy" (click)="click('copy')"><a href="#" target="_self">复制</a></li>

    </ul>
  </div>
  <div id="myDiagramDiv" style="height: 100%;width:100%;border-left: 1px solid darkgray;"></div>
</div>

<nz-modal nzWrapClassName="vertical-center-modal" [(nzVisible)]="visible" nzTitle="关联设备" (nzAfterOpen)="handleOpen()"
          (nzAfterClose)="handleClose()" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
  <p>绑定设备：</p>
  <nz-select nzShowSearch style="width: 200px;" [(ngModel)]="tempDeviceId">
    <nz-option *ngFor="let option of testSevices" [nzLabel]="option.name" [nzValue]="option.id"></nz-option>
  </nz-select>
</nz-modal>

<div class="floatbar">
  <nz-slider nzVertical [ngModel]="zoom" nztooltipvisible="never"></nz-slider>
</div>
